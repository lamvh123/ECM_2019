<section class="content" [ngStyle]="{'margin': '15px 15px 15px 15px'}">
  <div class="container-fluid">
    <div class="block-header">
      <h2><font color="#78b83e"><b>All Forms</b></font></h2>
    </div>

    <div class="row">
      <div class="input-field col s12 required col-lg-4 col-xl-3" style="padding-top: 10px">
        <ng-select [items]="listCourse" bindLabel="Name" bindValue="Id" placeholder="Select Course"
                   [(ngModel)]="courseId">
        </ng-select>
      </div>
      <div class="input-field col s12 required col-lg-4 col-xl-3" style="padding-top: 10px">
        <ng-select [items]="boolArr" [(ngModel)]="isClose" placeholder="Select status">
        </ng-select>
      </div>
      <div class="input-field col s12 required col-lg-2 col-xl-2" style="padding-top: 20px">
        <button type="submit" name="_submit" (click)="getAdmissionForm()" class="btn searchBtn">Search</button>
      </div>
    </div>
    <div class="row clearfix">
      <div *ngFor="let form of listForm" class="col-sm-12 col-md-6 col-lg-4 col-xl-3 course-div">
        <div class="thumbnail card" style="min-width: 20vh">
          <ng-container *ngIf="form.Course.$ref==null; then refIsNull; else refNotNull;"></ng-container>

          <ng-template #refIsNull>
            <ng-container
              *ngIf="form.Course.Image!=null; then imgNotNull; else imgNull">
            </ng-container>
            <ng-template #imgNotNull>
              <img src="{{form.Course.Image}}" alt="" class="img-fluid"
                   (click)="navigateToAdmissionFormDetail(form)"
                   [ngStyle]="{'height':'250px', 'width':'100%', 'object-fit': 'cover'}">
            </ng-template>
            <ng-template #imgNull>
              <img src="../../assets/images/bualiem.png" alt="" class="img-fluid"
                   (click)="navigateToAdmissionFormDetail(form)"
                   [ngStyle]="{'height':'250px', 'width':'100%', 'object-fit': 'cover'}">
            </ng-template>

            <div class="caption  body">
              <h3>{{form.Course.Name}}
                <span *ngIf="form.IsClosed" class="closed-form">(Closed)</span>
              </h3>
              Start date: <strong class="col-green">{{dateToString(form.StartDate)}}</strong><br/>
              <!--              Day(s) in week: <strong class="col-green">{{form.}}</strong><br/>-->
              <ng-container *ngIf="form.Slot.$ref==null; then refSlotIsNull; else refSlotNotNull;"></ng-container>
              <ng-template #refSlotIsNull>
                Slot: <strong class="col-green">{{form.Slot.From}}-{{form.Slot.To}}</strong><br/>
              </ng-template>
              <ng-template #refSlotNotNull>
                Slot: <strong class="col-green">{{getSlotByRefId(form.Slot.$ref).From}}-{{getSlotByRefId(form.Slot.$ref).To}}</strong><br/>
              </ng-template>
              <div class="btn-group-align">
                <div><a class="btn  btn-raised btn-info waves-effect btn-fix-width" role="button" style="padding: 10px"
                        (click)="navigateToAdmissionFormDetail(form)">Detail</a></div>
                <div><a class="btn  btn-raised btn-info waves-effect btn-fix-width" role="button" style="padding: 10px"
                        (click)="closeForm(form)" *ngIf="!form.IsClosed">Close</a>
                </div>
              </div>
            </div>
          </ng-template>
          <ng-template #refNotNull>
            <ng-container
              *ngIf="getCoursegById(form.Course.$ref).Image!=null; then imgNotNull; else imgNull">
            </ng-container>
            <ng-template #imgNotNull>
              <img src="{{getCoursegById(form.Course.$ref).Image}}" alt="" class="img-fluid"
                   (click)="navigateToAdmissionFormDetail(form)"
                   [ngStyle]="{'height':'250px', 'width':'100%', 'object-fit': 'cover'}">
            </ng-template>
            <ng-template #imgNull>
              <img src="../../assets/images/bualiem.png" alt="" class="img-fluid"
                   (click)="navigateToAdmissionFormDetail(form)"
                   [ngStyle]="{'height':'250px', 'width':'100%', 'object-fit': 'cover'}">
            </ng-template>

            <div class="caption  body">
              <h3>{{getCoursegById(form.Course.$ref).Name}}</h3>
              Start date: <strong class="col-green">{{dateToString(form.StartDate)}}</strong><br/>
              <!--              Day(s) in week: <strong class="col-green">{{dateToString(form.StartDate)}}</strong><br/>-->
              <ng-container *ngIf="form.Slot.$ref==null; then refSlotIsNull; else refSlotNotNull;"></ng-container>
              <ng-template #refSlotIsNull>
                Slot: <strong class="col-green">{{form.Slot.From}}-{{form.Slot.To}}</strong><br/>
              </ng-template>
              <ng-template #refSlotNotNull>
                Slot: <strong class="col-green">{{getSlotByRefId(form.Slot.$ref).From}}-{{getSlotByRefId(form.Slot.$ref).To}}</strong><br/>
              </ng-template>
              <div class="btn-group-align">
                <div><a class="btn  btn-raised btn-info waves-effect btn-fix-width" role="button" style="padding: 10px"
                        (click)="navigateToAdmissionFormDetail(form)">Detail</a></div>
                <div><a class="btn  btn-raised btn-info waves-effect btn-fix-width" role="button" style="padding: 10px"
                        (click)="closeForm(form)" *ngIf="!form.IsClosed">Close</a>
                </div>
              </div>
            </div>
          </ng-template>

        </div>
      </div>
    </div>

  </div>
</section>

<div class="color-bg"></div>
